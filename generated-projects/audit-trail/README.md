# audit-trail

create custom project with below apis:

POST /api/documents
 

Request: title, description, category, metadata (optional)

Response: document_id, created_at, status

Creates document record without file

POST /api/documents/{id}/upload
 

Request: multipart/form-data file

Response: file_path, file_size, mime_type

Stores file and creates version record

Validation: file size, allowed extensions

GET /api/documents/{id}
 

Response: full document details including metadata

Includes version history and approval status

GET /api/documents
 

Query params: page, limit, category, status, search, sort_by, order

Response: paginated list of documents

Default: 20 items per page

Supports filtering by multiple criteria

PUT /api/documents/{id}
 

Request: updated fields (title, description, category, metadata)

Response: updated document

Creates new version if content changed

DELETE /api/documents/{id}
 

Response: success message

Soft delete: sets is_deleted=true, preserves audit trail

Requires admin or owner permissions

GET /api/documents/{id}/download
 

Response: file stream with appropriate content-type

Logs download action in audit trail

GET /api/documents/{id}/versions
 

Response: list of all document versions

Includes version number, changes, timestamp, user

GET /api/documents/search
 

Query params: q (search query), filters

Response: matching documents

Full-text search on title, description, content

### Confirmation

- [x] I have reviewed the project requirements
- [x] I understand this will create a new branch and PR

## Framework
- FastAPI
- Database: PostgreSQL

## Features
- auth
- rest_api
- graphql
- celery
- docker
- tests

## Setup

```bash
python -m venv venv
source venv/bin/activate
pip install -r requirements.txt
uvicorn main:app --reload
```

Visit http://localhost:8000/docs for API documentation.

## Generated by CodeGen Automator
